<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>깡통 키우기</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=Gaegu:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="tamagotchi-frame">
            <div class="tamagotchi-header">
                <h1 id="game-title">깡통 키우기</h1>
            </div>
            
            <div class="stats-container">
                <div class="stat">
                    <span>호감도:</span>
                    <div class="progress-bar">
                        <div id="affection-bar" class="progress"></div>
                    </div>
                    <span id="affection-value">50</span>
                </div>
                <div class="stat">
                    <span>허기:</span>
                    <div class="progress-bar">
                        <div id="hunger-bar" class="progress"></div>
                    </div>
                    <span id="hunger-value">50</span>
                </div>
                <div class="stat">
                    <span>행복도:</span>
                    <div class="progress-bar">
                        <div id="happiness-bar" class="progress"></div>
                    </div>
                    <span id="happiness-value">50</span>
                </div>
            </div>
            
            <div class="character-display">
                <div id="no-character" class="show">
                    <div class="no-character-message">
                        <p>캐릭터를 업로드해주세요!</p>
                        <p>좌측 하단의 캐릭터 업로드 버튼을 눌러주세요.</p>
                    </div>
                </div>
                <div id="character-container" class="hide">
                    <img id="character-image" src="" alt="캐릭터">
                    <div class="speech-bubble hide" id="speech-bubble">
                        <p id="character-speech">안녕하세요!</p>
                    </div>
                </div>
                <div id="night-overlay" class="night-overlay"></div>
            </div>
            
            <div class="action-buttons">
                <button id="feed-button" class="action-button">밥주기</button>
                <button id="play-button" class="action-button">놀아주기</button>
                <button id="gift-button" class="action-button">선물주기</button>
                <button id="sleep-button" class="action-button">잠자기</button>
            </div>
        </div>
        
        <div class="side-controls">
            <button id="character-upload-btn" class="control-button">캐릭터 업로드</button>
            <button id="settings-btn" class="control-button">설정</button>
            <button id="api-connection-btn" class="control-button">API 연결</button>
        </div>
        
        <!-- 모달창 -->
        <div id="character-modal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>캐릭터 업로드</h2>
                <div class="form-group">
                    <label for="character-name">캐릭터 이름:</label>
                    <input type="text" id="character-name" name="character-name">
                </div>
                <div class="form-group">
                    <label for="character-img">캐릭터 이미지:</label>
                    <input type="file" id="character-img" name="character-img" accept="image/*">
                </div>
                <div class="form-group">
                    <button id="save-character" class="modal-button">저장하기</button>
                </div>
                
                <h3>저장된 캐릭터</h3>
                <div id="saved-characters-list" class="saved-characters">
                    <!-- 저장된 캐릭터 목록이 여기에 표시됩니다 -->
                </div>
            </div>
        </div>
        
        <div id="settings-modal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>설정</h2>
                <div id="current-character-name" class="current-character-info">현재 선택된 캐릭터: <span>없음</span></div>
                
                <div class="form-group">
                    <label for="custom-dialog">맞춤 대화 (쉼표로 구분하여 여러 대화 입력):</label>
                    <textarea id="custom-dialog" rows="4" placeholder="캐릭터와 나눌 대화를 입력하세요. 쉼표로 구분하면 여러 대화를 입력할 수 있어요."></textarea>
                </div>
                <div class="form-group">
                    <label for="custom-gift">맞춤 선물 (쉼표로 구분하여 여러 선물 입력):</label>
                    <textarea id="custom-gift" rows="2" placeholder="캐릭터에게 줄 선물들을 입력하세요. 쉼표로 구분하면 여러 선물을 입력할 수 있어요."></textarea>
                </div>
                <div class="form-group">
                    <label for="ai-character-name">AI 캐릭터 이름 (옵션):</label>
                    <input type="text" id="ai-character-name" placeholder="AI가 표현할 캐릭터의 이름을 입력하세요.">
                </div>
                <div class="form-group">
                    <button id="save-settings" class="modal-button">저장하기</button>
                </div>
            </div>
        </div>
        
        <div id="api-modal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Google Gemini API 연결</h2>
                <div class="form-group">
                    <label for="api-key">API 키:</label>
                    <input type="text" id="api-key" placeholder="Google Gemini API 키를 입력하세요">
                </div>
                <div class="form-group">
                    <button id="connect-api" class="modal-button">연결하기</button>
                </div>
                <div class="api-status">
                    <p>연결 상태: <span id="connection-status">연결되지 않음</span></p>
                </div>
                
                <h3>API 테스트</h3>
                <div class="form-group">
                    <label for="test-message">테스트 메시지:</label>
                    <input type="text" id="test-message" placeholder="캐릭터에게 말해볼 메시지를 입력하세요">
                </div>
                <div class="form-group">
                    <button id="test-api" class="modal-button" disabled>테스트하기</button>
                </div>
                <div class="form-group">
                    <label>응답:</label>
                    <div id="api-response" class="api-response">
                        <!-- API 응답이 여기에 표시됩니다 -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>
